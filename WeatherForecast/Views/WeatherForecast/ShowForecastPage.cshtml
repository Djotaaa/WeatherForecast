@using WeatherForecast.Models.Dto
@model OpenWeatherAPIDTO
@{
    ViewData["Title"] = $"{Model.name} - WeatherForecast";
}

<div class="container text-start">
    
    @if (Model.name != null && Model.weather != null && Model.main != null && Model.wind != null && Model.WarningMessage == null)
    {
        <br />
        <p><i class="bi bi-building"></i> <b>City:</b> @Model.name</p>
        <br />
        @foreach (var weather in Model.weather)
        {
            <p><i class="bi bi-cloud-sun"></i> <b>Weather description:</b> @weather.main</p>
        }
        <br />
        <p><i class="bi bi-thermometer-half"></i> <b>Temperature:</b> @(Math.Round((Model.main.temp - 32) * 5.0 / 9.0, 1)) °C</p>
        <br />
        <p><i class="bi bi-thermometer-low"></i> <b>Minimum temperature:</b> @(Math.Round((Model.main.temp_min - 32) * 5.0 / 9.0, 1)) °C</p>
        <p><i class="bi bi-thermometer-high"></i> <b>Maximum temperature:</b> @(Math.Round((Model.main.temp_max - 32) * 5.0 / 9.0, 1)) °C</p>
        <br />
        <p><i class="bi bi-wind"></i> <b>Wind speed:</b> @Model.wind.speed m/s</p>
    } else if (Model.WarningMessage != null){
        <p><b>@Model.WarningMessage</b></p>
    }
    else {
        <p><b>Unfortunately, we are currently unable to provide data for the requested location.</b></p>
    }
    <br />
    <div class="text-center">
    <a asp-action="WeatherForecastPage" asp-controller="WeatherForecast" class="btn w-50">Back to Weather Forecast</a>
    </div>
</div>

